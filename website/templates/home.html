{% extends "base.html" %} {% block title %}Home{% endblock %} {% block content
%}

<!-- Header Section -->
<header class="text-center my-5">
  <h1 class="display-3">StudyPal</h1>
  <small>
    <h2>The easiest way to better grades!</h2>
  </small>
  <!-- Combined Search Form -->
  <form action="/search" method="get" class="input-group my-3">
    <!-- University Dropdown -->
    <select class="custom-select" id="university" name="university" onchange="updateCourses()"">
      <option selected>Choose a university...</option>
      {% for university in universities %}
      <option value="{{ university }}">{{ university }}</option>
      {% endfor %}
    </select>

    <!-- Subject Dropdown -->
    <select class="custom-select" id="subject" name="subject" onchange="updateCourses()">
      <option selected>Choose a subject...</option>
      {% for subject in subjects %}
      <option value="{{ subject }}">{{ subject }}</option>
      {% endfor %}
    </select>

    <!-- Courses Dropdown, initially disabled -->
    <select class="custom-select" id="course" name="course" disabled>
      <option selected>Choose a course...</option>
      <!-- Course options will be populated based on the selected university and subject -->
    </select>

    <!-- Search Input -->
    <input
      type="text"
      class="form-control"
      placeholder="Search for documents, courses, exams..."
      name="query"
    />
    <div class="input-group-append">
      <button class="btn btn-outline-secondary" type="submit">Search</button>
    </div>
  </form>
</header>

<script>
function updateCourses() {
    var universitySelect = document.getElementById('university');
    var subjectSelect = document.getElementById('subject');
    var selectedUniversity = universitySelect.value;
    var selectedSubject = subjectSelect.value;

    if (selectedUniversity && selectedSubject) {
        fetch(`/get-courses?university=${selectedUniversity}&subject=${selectedSubject}`)
            .then(response => response.json())
            .then(courses => {
                var courseSelect = document.getElementById('course');
                courseSelect.innerHTML = '<option selected>Choose a course...</option>';
                courses.forEach(course => {
                    var option = document.createElement('option');
                    option.value = course;
                    option.textContent = course;
                    courseSelect.appendChild(option);
                });
                courseSelect.disabled = false;
            });
    } else {
        document.getElementById('course').disabled = true;
    }
}
</script>

<section class="text-center my-5">
  <div class="container">
    <div class="row">
      <!-- Stats Item -->
      <div class="col">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">50+</h5>
            <p class="card-text">University</p>
            <p class="card-text">
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Suscipit
              delectus dignissimos.
            </p>
          </div>
        </div>
      </div>
      <!-- Stats Item -->
      <div class="col">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">450K+</h5>
            <p class="card-text">Students</p>
            <p class="card-text">
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Suscipit
              delectus dignissimos.
            </p>
          </div>
        </div>
      </div>
      <!-- Add more stats items as necessary -->
    </div>
  </div>
</section>

<!-- About Section -->
<section class="my-5">
  <div class="container">
    <h2 class="text-center">ABOUT STUDYPAL</h2>
    <p>
      Lorem, ipsum dolor sit amet consectetur adipisicing elit. Commodi neque
      illum dolore quidem architecto ratione quod perferendis minima cupiditate
      facere a suscipit numquam eligendi molestiae eos esse dolores,
      voluptatibus officiis!
    </p>
    <!-- Add more content about STUDYPAL here -->
  </div>
</section>

{% endblock %}
